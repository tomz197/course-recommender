import{r as e,j as s,S as t,c as a,a5 as r,a6 as i,L as l,a7 as o,B as n,a8 as c,a9 as d,aa as m,ab as u,ac as x,ad as h,ae as p,af as f,ag as y,ah as j,ai as g}from"./recommendations-DLm09it4.js";import{d as v,I as N}from"./visualization-BO_45T5K.js";import{u as b,L as k,a as w}from"./index-Dnl8dOSA.js";import"./plotly-vendor-Co-r0fb2.js";function C({onSelectCourse:i,placeholder:l="Search courses...",excludeCourses:o=[],inputStyle:n}){const[c,d]=e.useState(!1),[m,u]=e.useState(""),x=e.useRef(null),h=e.useRef(null),{data:p=[],isLoading:f}=v(m,100),y=e.useMemo((()=>p.length?p.filter((e=>!o.some((s=>s.CODE===e.CODE)))):[]),[p,o]);e.useEffect((()=>{const e=e=>{x.current&&h.current&&!x.current.contains(e.target)&&!h.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const j=e=>{i(e),u(""),d(!1)};return s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative",children:[s.jsx(t,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(N,{ref:x,type:"text",value:m,onChange:e=>{const s=e.target.value;u(s),s.length>0?d(!0):d(!1)},onKeyDown:e=>{"Enter"===e.key&&c&&y.length>0&&!f&&(e.preventDefault(),j(y[0]))},onFocus:()=>m.length>0&&d(!0),placeholder:l,className:a(n,"pl-10 h-12 text-lg shadow-lg border-2")})]})}),c&&s.jsx("div",{ref:h,className:"absolute z-10 mt-1 w-full rounded-md border border-input bg-background shadow-md",children:f?s.jsxs("div",{className:"flex items-center justify-center p-4",children:[s.jsx(r,{className:"h-4 w-4 animate-spin text-muted-foreground"}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Searching courses..."})]}):y.length>0?s.jsxs("ul",{className:"max-h-60 overflow-auto py-1",children:[y.map((e=>s.jsxs("li",{onClick:()=>j(e),className:a("px-3 py-2 text-sm cursor-pointer hover:bg-accent hover:text-accent-foreground","transition-colors duration-150"),children:[s.jsxs("div",{className:"font-medium",children:[e.CODE," - ",e.FACULTY]}),e.NAME&&s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:e.NAME})]},e.CODE))),100===y.length?s.jsxs("li",{className:"px-3 py-2 text-sm text-center text-muted-foreground",children:["Showing first ",100," results. Try a more specific search term."]}):null]}):m.length>0?s.jsx("div",{className:"p-4 text-sm text-muted-foreground text-center",children:"No courses found. Try a different search term."}):null})]})}function S({children:e,delay:t=.3,className:a=""}){return s.jsx(i.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:t},className:`container mx-auto px-4 py-8 flex flex-col items-center gap-6 mt-8 bg-muted/30 rounded-lg border shadow-sm ${a}`,children:e})}function z(){return s.jsx(e.Suspense,{fallback:s.jsx(l,{}),children:s.jsx(D,{})})}function D(){const e=b("(max-width: 768px)");return s.jsxs("main",{className:"min-h-screen max-w-screen-lg mx-auto w-full py-4 pb-24 relative",children:[e?s.jsx(L,{}):s.jsx(M,{}),s.jsx(S,{delay:.3,children:s.jsxs(k,{to:"/visualization",className:"flex flex-col md:flex-row items-center gap-4 w-full group hover:bg-muted/50 transition-colors rounded-lg p-2",children:[s.jsx("img",{src:"/tsne_reduction_plot.png",alt:"Course Visualization Preview",loading:"lazy",decoding:"async",width:"400",height:"220",className:"w-full max-w-xs md:max-w-sm rounded-lg border shadow-md group-hover:scale-105 transition-transform",style:{background:"#fff"}}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Explore All Courses Visually"}),s.jsx("p",{className:"text-muted-foreground mb-2 max-w-prose",children:"Discover the relationships between courses across all faculties with our interactive visualization. Each point represents a course, colored by faculty and sized by student enrollment. Click to explore!"}),s.jsx("span",{className:"inline-block mt-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium shadow hover:bg-primary/90 transition-colors",children:"Go to Visualization"})]})]})}),s.jsx(S,{delay:.4,children:s.jsxs("div",{className:"text-center max-w-2xl",id:"about-us",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"About This Project"}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["This is a group project for the"," ",s.jsxs("a",{href:"https://is.muni.cz/predmet/fi/PV254",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline items-center gap-1 inline-flex",children:["Recommender Systems (PV254)",s.jsx(o,{className:"w-4 h-4 inline-block self-center mt-0.5"})]})," ","course at Masaryk University. Our goal is to help students discover courses that match their interests and preferences using modern recommendation techniques."]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Team Members"}),s.jsx("div",{className:"grid grid-cols-2 gap-4 text-sm max-w-prose mx-auto relative",children:[{name:"Tomáš Žifčák",url:"https://zifcak.dev"},{name:"Peter Dražkovec",url:"https://www.linkedin.com/in/peter-drazkovec/"},{name:"Marek Ličko",url:"https://www.linkedin.com/in/mareklicko/"},{name:"Martin Dražkovec",url:"https://www.linkedin.com/in/martin-drazkovec/"}].map((e=>s.jsx("div",{children:s.jsx(n,{variant:"ghost",asChild:!0,className:"w-full hover:bg-muted/50",children:s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[e.name,s.jsx(o,{className:"w-4 h-4 ml-1"})]})})},e.url)))})]})]})}),s.jsx(S,{delay:.5,children:s.jsxs("div",{className:"text-center max-w-2xl",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Support Ongoing Maintenance"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"If you find this tool helpful and would like to support its ongoing maintenance and development, consider buying us a coffee! Your support helps keep this project running and improving."}),s.jsx(c,{})]})})]})}function L(){const e=w(),{likedCourses:t,dislikedCourses:a,addLikedCourse:r,addDislikedCourse:l,removeLikedCourse:o,removeDislikedCourse:c}=d();return s.jsxs("div",{className:"mx-auto px-4 py-4 pb-24 flex flex-col gap-4",children:[s.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center text-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-3",children:"MUNI Course Recommendation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select courses you like and dislike to get personalized recommendations"}),s.jsxs(k,{to:"/about",className:"text-sm text-primary hover:underline mt-2 inline-flex items-center",children:["Read more about us",s.jsx(m,{className:"w-4 h-4 ml-1 mt-0.5"})]})]}),s.jsxs("div",{className:"flex flex-col gap-8",children:[s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u,{className:"w-5 h-5 text-green-500"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Liked Courses"})]}),s.jsx(x,{courses:Array.from(t.values()),onRemove:o,emptyMessage:"No liked courses",title:"Liked courses"}),s.jsx(C,{onSelectCourse:r,placeholder:"Search by name, code...",inputStyle:"shadow-green-500/10 border-green-500/20",excludeCourses:[...t.values(),...a.values()]})]})}),s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(h,{className:"w-5 h-5 text-destructive"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Disliked Courses"})]}),s.jsx(x,{courses:Array.from(a.values()),onRemove:c,emptyMessage:"No disliked courses",title:"Disliked courses"}),s.jsx(C,{onSelectCourse:l,placeholder:"Search by name, code...",inputStyle:"shadow-destructive/10 border-destructive/20",excludeCourses:[...t.values(),...a.values()]})]})})]}),s.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"fixed bottom-0 left-0 right-0 p-4 bg-background/30 backdrop-blur-sm border-t z-10",children:[s.jsx(n,{size:"lg",onClick:()=>{e("/recommendations")},disabled:0===t.size,className:"w-full group relative overflow-hidden py-4 text-lg font-semibold transition-all hover:scale-105 hover:cursor-pointer",children:"Get Recommendations"}),0===t.size&&s.jsx(i.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-muted-foreground text-center mt-2",children:"Select at least one course you like"})]})]})}function M(){const e=w(),{likedCourses:t,dislikedCourses:a,addLikedCourse:r,addDislikedCourse:l,removeLikedCourse:o,removeDislikedCourse:c}=d();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container mx-auto px-1 sm:px-4 py-4 sm:p-8 md:py-12",children:[s.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:"MUNI Course Recommendation"}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl leading-relaxed",children:"Help us understand your preferences by selecting courses you like and dislike, and we'll recommend courses tailored to your interests."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[s.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:s.jsxs(p,{className:"h-full border-2 border-green-500/10 hover:border-green-500/20 transition-colors duration-200",children:[s.jsxs(f,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u,{className:"w-5 h-5 text-green-500"}),s.jsx(y,{children:"Courses You Like"})]}),s.jsx(j,{className:"text-base",children:"Select courses that interest you or that you've enjoyed in the past"})]}),s.jsxs(g,{className:"space-y-4 flex flex-col justify-between flex-1",children:[s.jsx(x,{courses:Array.from(t.values()),onRemove:o,emptyMessage:"No liked courses selected yet",title:"Liked courses"}),s.jsx(C,{onSelectCourse:r,placeholder:"Search by course name, code, or faculty...",excludeCourses:[...t.values(),...a.values()]})]})]})}),s.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:s.jsxs(p,{className:"h-full border-2 border-destructive/10 hover:border-destructive/20 transition-colors duration-200",children:[s.jsxs(f,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(h,{className:"w-5 h-5 text-destructive"}),s.jsx(y,{children:"Courses You Dislike"})]}),s.jsx(j,{className:"text-base",children:"Select courses that don't interest you or that you didn't enjoy"})]}),s.jsxs(g,{className:"space-y-4 flex flex-col justify-between flex-1",children:[s.jsx(x,{courses:Array.from(a.values()),onRemove:c,emptyMessage:"No disliked courses selected yet",title:"Disliked courses"}),s.jsx(C,{onSelectCourse:l,placeholder:"Search by course name, code, or faculty...",excludeCourses:[...t.values(),...a.values()]})]})]})})]}),s.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col justify-center sm:items-center",children:[s.jsx(n,{size:"lg",onClick:()=>{e("/recommendations")},disabled:0===t.size,className:"group relative overflow-hidden px-8 py-6 text-lg font-semibold transition-all hover:scale-105 hover:cursor-pointer",children:"Get Course Recommendations"}),0===t.size&&s.jsx(i.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-muted-foreground mt-3",children:"Select at least one course you like to get recommendations"})]})]})})}export{z as default};
